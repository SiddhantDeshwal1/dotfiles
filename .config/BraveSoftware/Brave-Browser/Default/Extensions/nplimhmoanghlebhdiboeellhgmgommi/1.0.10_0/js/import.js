let fileInput=document.querySelector("input[type=file]"),result=document.getElementById("result");function showResult(a,b){b?(result.classList.add("text-success"),result.classList.remove("text-danger")):(result.classList.add("text-danger"),result.classList.remove("text-success"));result.textContent=a}
async function importJson(){const a=this.files[0];if(a)if(this.value=null,a.name.endsWith(".json"))if(5E6<a.size)showResult("file size > 5MB",!1);else try{await GroupStore.importJson(a),showResult("import success!",!0),setTimeout(window.close,1E3)}catch(b){showResult(b,!1)}else showResult("file type is not json",!1)}function init(){fileInput.addEventListener("change",importJson);document.querySelector("button").addEventListener("click",()=>fileInput.click())}init();
