###############################################################################
# Hypridle Configuration
# Author: Man37
# Handles idle actions, lock screen, and session behavior
###############################################################################


# ─────────────────────────────────────────────────────────────────────────────
# GENERAL SETTINGS
# ─────────────────────────────────────────────────────────────────────────────
general {
    lock_cmd            = pidof hyprlock || hyprlock   # Lock with hyprlock
    before_sleep_cmd    = loginctl lock-session        # Lock before sleep
    after_sleep_cmd     = hyprctl dispatch dpms on     # Turn screen back on after wake
    ignore_dbus_inhibit = false                        # Respect dbus inhibitors
}


# ─────────────────────────────────────────────────────────────────────────────
# LISTENER 1: Idle Warning
# ─────────────────────────────────────────────────────────────────────────────
listener {
    timeout     = 540                                  # 9 minutes
    on-timeout  = notify-send "You are idle!"          # Send idle warning
    on-resume   = notify-send "Welcome back, man37!"   # Greet when resuming
}


# ─────────────────────────────────────────────────────────────────────────────
# LISTENER 2: Auto-Lock
# ─────────────────────────────────────────────────────────────────────────────
listener {
    timeout     = 600                                  # 10 minutes
    on-timeout  = loginctl lock-session                # Lock session
}
