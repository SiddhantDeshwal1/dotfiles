###############################################################################
# Hyprland Visual Configuration
# Decorations & Animations
# Author: Man37
###############################################################################
# ─────────────────────────────────────────────────────────────────────────────
# WINDOW DECORATIONS
# ─────────────────────────────────────────────────────────────────────────────
decoration {
    active_opacity = 0.9
    inactive_opacity = 0.7
    fullscreen_opacity = 1.0
    dim_inactive = true
    dim_strength = 0.1
    dim_special = 0.8
    blur {
        enabled = true
        size = 7
        passes = 3
        brightness = 1.0
        contrast = 1.0
        popups = true
        ignore_opacity = true
        new_optimizations = true
        special = true
        xray = false
    }
}
# ─────────────────────────────────────────────────────────────────────────────
# ANIMATIONS
# ─────────────────────────────────────────────────────────────────────────────
animations {
    enabled = yes

    # ── Bezier Curves ──
    bezier = myBezier, 0.05, 0.9, 0.1, 1.05   # Snappy center-expand feel (closest to Picom zoom)
    bezier = been, 0.24, 0.9, 0.25, 0.91
    bezier = been2, 0.0, 0.94, 0.5, 0.99
    bezier = menu_decel, 0.1, 1.0, 0.0, 1.0
    bezier = linear, 0.0, 0.0, 1.0, 1.0
    bezier = wind, 0.05, 0.9, 0.1, 1.05
    bezier = winIn, 0.1, 1.1, 0.1, 1.1
    bezier = winOut, 0.3, -0.3, 0.0, 1.0
    bezier = slow, 0.0, 0.85, 0.3, 1.0
    bezier = overshot, 0.7, 0.6, 0.1, 1.1
    bezier = bounce, 1.1, 1.6, 0.1, 0.85
    bezier = sligshot, 1.0, -1.0, 0.15, 1.25
    bezier = nice, 0.0, 6.9, 0.5, -4.2

    # ── Symmetric Picom-Zoom-Like Animations ──
    animation = windowsIn, 1, 6, myBezier, popin 1%     # Open: expand from ~80% center
    animation = windowsOut, 1, 6, myBezier, popin 10%    # Close: shrink to center (identical reverse)
    animation = windowsMove, 1, 5, wind, slide
    animation = border, 1, 1, linear
    animation = fade, 1, 6, myBezier                     # Fade matches zoom timing
    animation = workspaces, 1, 2, wind
    animation = windows, 1, 6, myBezier, popin          # General consistency
}

# ─────────────────────────────────────────────────────────────────────────────
# LAYER RULES (Rofi)
# ─────────────────────────────────────────────────────────────────────────────
# layerrule = animation slide bottom, ^(rofi)$ # Open: slides up from bottom
# layerrule = animation slide bottom, ^(rofi)$ on close # Close: slides back down to bottom
