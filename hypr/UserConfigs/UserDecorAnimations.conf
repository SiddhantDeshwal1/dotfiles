###############################################################################
# Hyprland Visual Configuration
# Decorations & Animations
# Author: Man37
###############################################################################


# ─────────────────────────────────────────────────────────────────────────────
# WINDOW DECORATIONS
# ─────────────────────────────────────────────────────────────────────────────
decoration {
    # rounding          = 10           # Window corner rounding (px)

    active_opacity    = 0.9          # Focused window opacity
    inactive_opacity  = 0.7          # Unfocused window opacity
    fullscreen_opacity= 1.0          # Fullscreen opacity

    dim_inactive      = true         # Dim unfocused windows
    dim_strength      = 0.1          # Dim intensity for normal windows
    dim_special       = 0.8          # Dim intensity for special workspaces

    blur {
        enabled            = true    # Enable blur
        size               = 4       # Blur size
        passes             = 3       # Blur passes (higher = smoother blur)
        ignore_opacity     = true    # Blur even transparent windows
        new_optimizations  = true    # Use optimized blur
        special            = true    # Blur special workspaces
        xray               = false   # Xray blur (true = see through layers)
    }
}


# ─────────────────────────────────────────────────────────────────────────────
# ANIMATIONS
# ─────────────────────────────────────────────────────────────────────────────
animations {
    enabled = yes

    # ── Bezier Curves (easing functions) ──
    bezier = myBezier,    0.05, 0.9,  0.1,  1.05
    bezier = been,        0.24, 0.9,  0.25, 0.91
    bezier = been2,       0.0,  0.94, 0.5,  0.99
    bezier = menu_decel,  0.1,  1.0,  0.0,  1.0
    bezier = linear,      0.0,  0.0,  1.0,  1.0
    bezier = wind,        0.05, 0.9,  0.1,  1.05
    bezier = winIn,       0.1,  1.1,  0.1,  1.1
    bezier = winOut,      0.3, -0.3,  0.0,  1.0
    bezier = slow,        0.0,  0.85, 0.3,  1.0
    bezier = overshot,    0.7,  0.6,  0.1,  1.1
    bezier = bounce,      1.1,  1.6,  0.1,  0.85
    bezier = sligshot,    1.0, -1.0,  0.15, 1.25
    bezier = nice,        0.0,  6.9,  0.5, -4.2

    # ── Animation Bindings ──
    animation = windowsIn,     1, 5, slow,    popin
    animation = windowsOut,    1, 7, been,    popin 70%
    animation = windowsMove,   1, 5, wind,    slide
    animation = border,        1, 1, linear
    animation = fade,          1, 5, overshot
    animation = workspaces,    1, 5, wind
    animation = windows,       1, 5, bounce,  popin
}

# try matching by common fields (case-insensitive where appropriate)
windowrulev2 = animation grow, class:^(Rofi|rofi)$
windowrulev2 = animation grow, initialClass:^(Rofi|rofi)$
windowrulev2 = animation grow, title:^(rofi|Rofi)$
# windowrulev2 = animation grow, app_id:^(rofi|Rofi)$
# fallback: match any window that contains 'rofi' in any visible field
windowrulev2 = animation grow, title:.*rofi.*
windowrulev2 = animation grow, class:.*rofi.*

# Extra 
layerrule = blur, ^(rofi)$
