###############################################################################
# Hyprland Main Configuration
# Author: Man37
# Includes layout, input, gestures, groups, misc, and more.
###############################################################################


# ─────────────────────────────────────────────────────────────────────────────
# COLORS (FROM WALLUST)
# ─────────────────────────────────────────────────────────────────────────────
# Import colors generated by Wallust for dynamic theming
source = $HOME/.config/hypr/wallust/wallust-hyprland.conf


# ─────────────────────────────────────────────────────────────────────────────
# LAYOUTS
# ─────────────────────────────────────────────────────────────────────────────
dwindle {
    pseudotile            = yes   # Keep size of windows but still tiled
    preserve_split        = yes   # Keep split ratio when closing/moving
    special_scale_factor  = 0.8   # Scale special workspace windows
}

master {
    new_status  = master
    new_on_top  = 1
    mfact       = 0.5             # Master/stack size ratio
}

general {
    border_size          = 0
    gaps_in              = 6
    gaps_out             = 25
    resize_on_border     = true
    layout               = dwindle

    # col.active_border    = rgb(ffffff)  # Default border color
}


# ─────────────────────────────────────────────────────────────────────────────
# INPUT SETTINGS
# ─────────────────────────────────────────────────────────────────────────────
input {
    kb_layout   = us
    kb_variant  =
    kb_model    =
    kb_options  =
    kb_rules    =
    repeat_rate = 40
    repeat_delay= 250

    sensitivity             = 0      # Mouse sensitivity
    numlock_by_default      = true
    left_handed             = false
    follow_mouse            = true
    float_switch_override_focus = false

    touchpad {
        disable_while_typing    = true
        # natural_scroll          = true
        clickfinger_behavior    = false
        middle_button_emulation = true
        tap-to-click            = true
        drag_lock               = false
    }
}


# ─────────────────────────────────────────────────────────────────────────────
# GESTURES
# ─────────────────────────────────────────────────────────────────────────────

gesture = 3, horizontal, workspace,
gesture = 3, swipe, mod:ALT, resize


# ─────────────────────────────────────────────────────────────────────────────
# GROUPS
# ─────────────────────────────────────────────────────────────────────────────
group {
    # col.border_active = $color15

    groupbar {
        # col.active = $color0
    }
}


# ─────────────────────────────────────────────────────────────────────────────
# MISCELLANEOUS
# ─────────────────────────────────────────────────────────────────────────────
misc {
    disable_hyprland_logo    = true
    disable_splash_rendering = true
    vfr                      = true
    # vrr = 0                 # Variable refresh rate (optional)

    mouse_move_enables_dpms  = true
    enable_swallow           = true
    swallow_regex            = ^(kitty)$
    focus_on_activate        = false
    initial_workspace_tracking = 0
    middle_click_paste       = false
    # no_direct_scanout = true   # Deprecated (used for fullscreen games)
}


# ─────────────────────────────────────────────────────────────────────────────
# BINDS CONFIG
# ─────────────────────────────────────────────────────────────────────────────
binds {
    workspace_back_and_forth = true
    allow_workspace_cycles   = true
    pass_mouse_when_bound    = false
}


# ─────────────────────────────────────────────────────────────────────────────
# XWAYLAND
# ─────────────────────────────────────────────────────────────────────────────
xwayland {
    enabled             = true
    force_zero_scaling  = true   # Prevent pixelation when scaling
}


# ─────────────────────────────────────────────────────────────────────────────
# CURSOR
# ─────────────────────────────────────────────────────────────────────────────
cursor {
    no_hardware_cursors        = false
    enable_hyprcursor          = true
    warp_on_change_workspace   = true
    no_warps                   = true
}
